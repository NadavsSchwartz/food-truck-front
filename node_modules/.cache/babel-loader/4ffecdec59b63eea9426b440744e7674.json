{"ast":null,"code":"import { Redirect } from \"react-router-dom\";\nexport const addAccount = data => {\n  return dispatch => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    const body = JSON.stringify({\n      data\n    });\n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: body\n    };\n    fetch(\"http://localhost:3000/api/v1/accounts\", requestOptions).then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        throw new Error(\"Account was not created\");\n      }\n    }).then(account => {\n      dispatch({\n        type: \"ADD_ACCOUNT\",\n        payload: account\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/nadavschwartz/Desktop/food_truck-frontend/food_truck_front/src/actions/addAccount.js"],"names":["Redirect","addAccount","data","dispatch","myHeaders","Headers","append","body","JSON","stringify","requestOptions","method","headers","fetch","then","res","ok","json","Error","account","type","payload"],"mappings":"AAAA,SAASA,QAAT,QAAyB,kBAAzB;AACA,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAU;AAClC,SAAQC,QAAD,IAAc;AACnB,UAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACAD,IAAAA,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;AAEA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA;AAAF,KAAf,CAAb;AAEA,UAAMQ,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAER,SAFY;AAGrBG,MAAAA,IAAI,EAAEA;AAHe,KAAvB;AAKAM,IAAAA,KAAK,CAAC,uCAAD,EAA0CH,cAA1C,CAAL,CACGI,IADH,CACSC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACC,EAAR,EAAY;AACV,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,OAFD,MAEO;AACL,cAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;AACD;AACF,KAPH,EAQGJ,IARH,CAQSK,OAAD,IAAa;AACjBhB,MAAAA,QAAQ,CAAC;AAAEiB,QAAAA,IAAI,EAAE,aAAR;AAAuBC,QAAAA,OAAO,EAAEF;AAAhC,OAAD,CAAR;AACD,KAVH;AAWD,GAtBD;AAuBD,CAxBM","sourcesContent":["import { Redirect } from \"react-router-dom\";\nexport const addAccount = (data) => {\n  return (dispatch) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const body = JSON.stringify({ data });\n\n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: body,\n    };\n    fetch(\"http://localhost:3000/api/v1/accounts\", requestOptions)\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          throw new Error(\"Account was not created\");\n        }\n      })\n      .then((account) => {\n        dispatch({ type: \"ADD_ACCOUNT\", payload: account });\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}